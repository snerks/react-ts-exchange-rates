(this["webpackJsonpreact-ts-exchange-rates"]=this["webpackJsonpreact-ts-exchange-rates"]||[]).push([[0],{220:function(e,a,t){e.exports=t(422)},417:function(e,a,t){},418:function(e,a,t){},422:function(e,a,t){"use strict";t.r(a);t(221),t(230);var n=t(0),o=t.n(n),r=t(19),l=t.n(r),s=(t(417),t(418),t(95)),c=t.n(s),i=t(144),m=t(22),u=t(145),d=t(31),h=t(478),E=t(462),b=t(469),g=t(470),C=t(474),y=t(473),S=t(471),p=t(472),R=t(468),D=t(465),f=t(479),N=t(477),K=t(467),w=t(480),v=t(475),O=t(481),B={GBP:{isoCode:"GBP",symbol:"\xa3",name:"British Pound"},EUR:{isoCode:"EUR",symbol:"\u20ac",name:"Euro"},USD:{isoCode:"USD",symbol:"$",name:"US Dollar"},AUD:{isoCode:"AUD",symbol:"$",name:"Australian Dollar"},BGN:{isoCode:"BGN",symbol:"\u043b\u0432.",name:"Bulgarian Lev"},BRL:{isoCode:"BRL",symbol:"R$",name:"Brazilian Real"},CAD:{isoCode:"CAD",symbol:"$",name:"Canadian Dollar"},CHF:{isoCode:"CHF",symbol:"CHF",name:"Swiss Franc"},CNY:{isoCode:"CNY",symbol:"\xa5",name:"Chinese Yuan"},CZK:{isoCode:"CZK",symbol:"K\u010d",name:"Czech Koruna"},DKK:{isoCode:"DKK",symbol:"kr.",name:"Danish Krone"},HKD:{isoCode:"HKD",symbol:"$",name:"Hong Kong Dollar"},HRK:{isoCode:"HRK",symbol:"kn",name:"Croatian Kuna"},HUF:{isoCode:"HUF",symbol:"Ft",name:"Hungarian Forint"},IDR:{isoCode:"IDR",symbol:"Rp",name:"Indonesian Rupiah"},ILS:{isoCode:"ILS",symbol:"\u20aa",name:"Israeli New Shekel"},INR:{isoCode:"INR",symbol:"\u20b9",name:"Indian Rupee"},ISK:{isoCode:"ISK",symbol:"kr",name:"Icelandic Kr\xf3na"},JPY:{isoCode:"JPY",symbol:"\xa5",name:"Japanese Yen"},KRW:{isoCode:"KRW",symbol:"\u20a9",name:"South Korean Won"},MXN:{isoCode:"MXN",symbol:"$",name:"Mexican Peso"},MYR:{isoCode:"MYR",symbol:"RM",name:"Malaysian Ringgit"},NOK:{isoCode:"NOK",symbol:"kr",name:"Norwegian Krone"},NZD:{isoCode:"NZD",symbol:"$",name:"New Zealand Dollar"},PHP:{isoCode:"PHP",symbol:"\u20b1",name:"Philippine Piso"},PLN:{isoCode:"PLN",symbol:"z\u0142",name:"Polish Zloty"},RON:{isoCode:"RON",symbol:"lei",name:"Romanian Leu"},RUB:{isoCode:"RUB",symbol:"\u20bd",name:"Russian Ruble"},SEK:{isoCode:"SEK",symbol:"kr",name:"Swedish Krona"},SGD:{isoCode:"SGD",symbol:"$",name:"Singapore Dollar"},THB:{isoCode:"THB",symbol:"\u0e3f",name:"Thai Baht"},TRY:{isoCode:"TRY",symbol:"\u20ba",name:"Turkish Lira"},ZAR:{isoCode:"ZAR",symbol:"R",name:"South African Rand"}},I=Object(E.a)({root:{width:"100%",overflowX:"auto"},table:{},th:{fontWeight:900},formControl:{minWidth:160},selectEmpty:{}}),P=function(e){var a=I(),t=Object(n.useState)(e.sourceCurrencyIsoCode||"GBP"),r=Object(d.a)(t,2),l=r[0],s=r[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{row:!0,style:{margin:10}},o.a.createElement(K.a,{className:a.formControl},o.a.createElement(w.a,{id:"demo-simple-select-label"},"Source Currency"),o.a.createElement(v.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:l,onChange:function(a){s(a.target.value),e.handleSourceCurrencyChange(a)}},["GBP","EUR","USD","AUD","BGN","BRL","CAD","CHF","CNY","CZK","DKK","HKD","HRK","HUF","IDR","ILS","INR","ISK","JPY","KRW","MXN","MYR","NOK","NZD","PHP","PLN","RON","RUB","SEK","SGD","THB","TRY","ZAR"].map((function(e){return o.a.createElement(O.a,{value:e,key:e},function(e){var a=B[e],t=a?a.symbol:"",n=a?a.name:"";return o.a.createElement("span",{title:n},e," (",o.a.createElement("strong",null,t),") ",n)}(e))}))))))},_=Object(E.a)({root:{width:"100%",overflowX:"auto"},table:{},th:{fontWeight:900},formControl:{minWidth:120},selectEmpty:{}}),j=function(e){var a,t=e.data,n=_(),r=o.a.useState({checkedAll:!1}),l=Object(d.a)(r,2),s=l[0],c=l[1];return t&&o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{component:R.a},o.a.createElement(g.a,{size:"small","aria-label":"Source Currency"},o.a.createElement(S.a,null,o.a.createElement(p.a,null,o.a.createElement(y.a,{className:n.th},"Source Currency"),o.a.createElement(y.a,{className:n.th},"Start Date"),o.a.createElement(y.a,{className:n.th},"End Date"))),o.a.createElement(C.a,null,o.a.createElement(p.a,null,o.a.createElement(y.a,{component:"th",scope:"row"},t.base),o.a.createElement(y.a,null,t.start_at&&t.start_at.toString()),o.a.createElement(y.a,null,t.end_at&&t.end_at.toString()))))),o.a.createElement(D.a,{row:!0,style:{margin:10}},o.a.createElement(f.a,{control:o.a.createElement(N.a,{checked:s.checkedAll,onChange:(a="checkedAll",function(e){c(Object(u.a)({},s,Object(m.a)({},a,e.target.checked)))}),value:"checkedAll",color:"primary"}),label:"Show All"})),o.a.createElement(b.a,{component:R.a},o.a.createElement(g.a,{className:n.table,size:"small","aria-label":"Exchange Rates"},o.a.createElement(S.a,null,o.a.createElement(p.a,null,o.a.createElement(h.a,{xsDown:!0},o.a.createElement(y.a,{className:n.th},"Target Currency")),o.a.createElement(y.a,{className:n.th,style:{width:20}},"Symbol"),o.a.createElement(y.a,{className:n.th},"Name"),o.a.createElement(y.a,{className:n.th,align:"right"},"Start Date Rate"),o.a.createElement(y.a,{className:n.th,align:"right"},"End Date Rate"),o.a.createElement(y.a,{className:n.th,align:"center"},"Direction"))),o.a.createElement(C.a,null,t&&t.start_at&&t.end_at&&t.rates[t.start_at.toString()]&&t.rates[t.end_at.toString()]&&Object.entries(t.rates[t.start_at.toString()]).sort().map((function(e){var a=e[0],n=e[1];if(!(s.checkedAll||"GBP"===a||"EUR"===a||"USD"===a))return null;var r=B[a],l=r?r.symbol:"",c=r?r.name:"";return o.a.createElement(p.a,{key:a},o.a.createElement(h.a,{xsDown:!0},o.a.createElement(y.a,null,a)),o.a.createElement(y.a,{style:{width:20}},l),o.a.createElement(y.a,null,c),o.a.createElement(y.a,{align:"right"},e[1].toFixed(4)),o.a.createElement(y.a,{align:"right"},function(e,a){return o.a.createElement("span",null,e.end_at&&e.rates[e.end_at.toString()]&&e.rates[e.end_at.toString()][a].toFixed(4))}(t,a)),o.a.createElement(y.a,{align:"center"},function(e,a,t){return o.a.createElement("span",null,e.end_at&&e.rates[e.end_at.toString()]&&e.rates[e.end_at.toString()][a]&&e.rates[e.end_at.toString()][a]>t?o.a.createElement("strong",null,o.a.createElement("span",{style:{color:"green"}},"\u2bc5")):e.end_at&&e.rates[e.end_at.toString()]&&e.rates[e.end_at.toString()][a]&&e.rates[e.end_at.toString()][a]<t?o.a.createElement("strong",null,o.a.createElement("span",{style:{color:"red"}},"\u2bc6")):null)}(t,a,n)))}))))))},k=function(e){var a,t=function(e){var a=864e5*e;return new Date((new Date).valueOf()-a)},r=Object(n.useState)(void 0),l=Object(d.a)(r,2),s=l[0],m=l[1],u=Object(n.useState)(null!==(a=e.endDateDaysAgo)&&void 0!==a?a:0),h=Object(d.a)(u,2),E=h[0],b=(h[1],Object(n.useState)({base:"GBP",rates:{},start_at:t(E+1),end_at:t(E)})),g=Object(d.a)(b,2),C=g[0],y=g[1],S=Object(n.useState)(!0),p=Object(d.a)(S,2),R=p[0],D=p[1],f=Object(n.useState)(e.sourceCurrencyIsoCode||"GBP"),N=Object(d.a)(f,2),K=N[0],w=N[1];function v(){return(v=Object(i.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.exchangeratesapi.io/latest?base=".concat(K),e.next=3,fetch(a);case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,m(n),D(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(i.a)(c.a.mark((function e(){var a,n,o,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return new Date,console.log("fetchExchangeRatesDateRange"),a=t(E+1).toISOString().split("T")[0],n=t(E).toISOString().split("T")[0],console.log("startDateIso = ".concat(a)),console.log("endDateIso = ".concat(n)),o="https://api.exchangeratesapi.io/history?start_at=".concat(a,"&end_at=").concat(n,"&base=").concat(K),e.next=9,fetch(o);case 9:return r=e.sent,e.next=12,r.json();case 12:l=e.sent,console.log(l),y(l),D(!1);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){v.apply(this,arguments)}(),function(){O.apply(this,arguments)}()}),[K]),o.a.createElement("div",null,R?o.a.createElement("div",null,"...loading"):o.a.createElement("div",null,s&&o.a.createElement(o.a.Fragment,null,o.a.createElement(P,{sourceCurrencyIsoCode:K,handleSourceCurrencyChange:function(e){w(e.target.value)}}),o.a.createElement("hr",null),o.a.createElement(j,{data:C}))))};var H=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(k,{sourceCurrencyIsoCode:"GBP",endDateDaysAgo:1}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[220,1,2]]]);
//# sourceMappingURL=main.5965ca02.chunk.js.map